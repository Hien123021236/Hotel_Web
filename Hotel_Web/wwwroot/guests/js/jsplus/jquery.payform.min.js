(function e(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s=typeof require=="function"&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,e,n,t,i)}return t[u].exports}for(var f=typeof require=="function"&&require,u=0;u<i.length;u++)r(i[u]);return r})({1:[function(n){var t;t=n(2),function(n){return n.payform=t,n.payform.fn={formatCardNumber:function(){return t.cardNumberInput(this.get(0))},formatCardExpiry:function(){return t.expiryInput(this.get(0))},formatCardCVC:function(){return t.cvcInput(this.get(0))},formatNumeric:function(){return t.numericInput(this.get(0))}},n.fn.payform=function(t){return n.payform.fn[t]!=null&&n.payform.fn[t].call(this),this}}(window.jQuery||window.Zepto)},{"2":2}],2:[function(n,t){var i=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};(function(n,i){return typeof t!="undefined"&&t!==null?t.exports=i():typeof define=="function"&&typeof define.amd=="object"?define(n,i):this[n]=i()})("payform",function(){var a,f,n,e,v,r,y,p,w,b,k,d,o,g,t,s,h,l,c,nt,tt,it,u;return f=function(n){var r,i,t;return n.selectionStart!=null?n.selectionStart:document.selection!=null?(n.focus(),r=document.selection.createRange(),t=n.createTextRange(),i=t.duplicate(),t.moveToBookmark(r.getBookmark()),i.setEndPoint("EndToStart",t),i.text.length):void 0},a=function(n){return function(t){return t==null&&(t=window.event),t.target=t.target||t.srcElement,t.which=t.which||t.keyCode,t.preventDefault==null&&(t.preventDefault=function(){return this.returnValue=!1}),n(t)}},n=function(n,t,i){return i=a(i),n.addEventListener!=null?n.addEventListener(t,i,!1):n.attachEvent("on"+t,i)},t={},r=/(\d{1,4})/g,t.cards=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|2[2-7])/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,2})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0}],e=function(n){var r,i,f,u;for(n=(n+"").replace(/\D/g,""),u=t.cards,i=0,f=u.length;i<f;i++)if(r=u[i],r.pattern.test(n))return r},v=function(n){var r,i,f,u;for(u=t.cards,i=0,f=u.length;i<f;i++)if(r=u[i],r.type===n)return r},g=function(n){var t,r,i,e,u,f;for(u=!0,f=0,r=(n+"").split("").reverse(),i=0,e=r.length;i<e;i++)t=r[i],t=parseInt(t,10),(u=!u)&&(t*=2),t>9&&(t-=9),f+=t;return f%10==0},o=function(n){var t;return(typeof document!="undefined"&&document!==null?(t=document.selection)!=null?t.createRange:void 0:void 0)!=null&&document.selection.createRange().text?!0:n.selectionStart!=null&&n.selectionStart!==n.selectionEnd},c=function(n){var t,r,e,o,i,u,s,f;for(n==null&&(n=""),e="０１２３４５６７８９",o="0123456789",f="",r=n.split(""),i=0,s=r.length;i<s;i++)t=r[i],u=e.indexOf(t),u>-1&&(t=o[u]),f+=t;return f},h=function(n){var i;return i=f(n.target),n.target.value=t.formatCardNumber(n.target.value),i!=null&&n.type!=="change"?n.target.setSelectionRange(i,i):void 0},b=function(n){var r,u,i,h,o,s,t;if(i=String.fromCharCode(n.which),/^\d+$/.test(i))return(t=n.target.value,r=e(t+i),h=(t.replace(/\D/g,"")+i).length,s=16,r&&(s=r.length[r.length.length-1]),h>=s)?void 0:(u=f(n.target),u&&u!==t.length)?void 0:(o=r&&r.type==="amex"?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,o.test(t))?(n.preventDefault(),setTimeout(function(){return n.target.value=t+" "+i})):o.test(t+i)?(n.preventDefault(),setTimeout(function(){return n.target.value=t+i+" "})):void 0},y=function(n){var i,t;if(t=n.target.value,n.which===8)return(i=f(n.target),i&&i!==t.length)?void 0:/\d\s$/.test(t)?(n.preventDefault(),setTimeout(function(){return n.target.value=t.replace(/\d\s$/,"")})):/\s\d?$/.test(t)?(n.preventDefault(),setTimeout(function(){return n.target.value=t.replace(/\d$/,"")})):void 0},l=function(n){var i;return i=f(n.target),n.target.value=t.formatCardExpiry(n.target.value),i!=null&&n.type!=="change"?n.target.setSelectionRange(i,i):void 0},w=function(n){var i,t;if(i=String.fromCharCode(n.which),/^\d+$/.test(i))return(t=n.target.value+i,/^\d$/.test(t)&&t!=="0"&&t!=="1")?(n.preventDefault(),setTimeout(function(){return n.target.value="0"+t+" / "})):/^\d\d$/.test(t)?(n.preventDefault(),setTimeout(function(){return n.target.value=t+" / "})):void 0},k=function(n){var i,t;if(i=String.fromCharCode(n.which),/^\d+$/.test(i))return t=n.target.value,/^\d\d$/.test(t)?n.target.value=t+" / ":void 0},d=function(n){var t,i;if(i=String.fromCharCode(n.which),i==="/"||i===" ")return t=n.target.value,/^\d$/.test(t)&&t!=="0"?n.target.value="0"+t+" / ":void 0},p=function(n){var i,t;if(t=n.target.value,n.which===8)return(i=f(n.target),i&&i!==t.length)?void 0:/\d\s\/\s$/.test(t)?(n.preventDefault(),setTimeout(function(){return n.target.value=t.replace(/\d\s\/\s$/,"")})):void 0},s=function(n){var t;return t=f(n.target),n.target.value=c(n.target.value).replace(/\D/g,"").slice(0,4),t!=null&&n.type!=="change"?n.target.setSelectionRange(t,t):void 0},u=function(n){var t;if(!n.metaKey&&!n.ctrlKey)return n.which===0?void 0:n.which<33?void 0:(t=String.fromCharCode(n.which),/^\d+$/.test(t)?void 0:n.preventDefault())},tt=function(n){var t,r,i;if(r=String.fromCharCode(n.which),/^\d+$/.test(r))return o(n.target)?void 0:(i=(n.target.value+r).replace(/\D/g,""),t=e(i),t&&i.length>t.length[t.length.length-1])?n.preventDefault():i.length>16?n.preventDefault():void 0},it=function(n){var i,t;if(i=String.fromCharCode(n.which),/^\d+$/.test(i))return o(n.target)?void 0:(t=n.target.value+i,t=t.replace(/\D/g,""),t.length>6?n.preventDefault():void 0)},nt=function(n){var t,i;if(t=String.fromCharCode(n.which),/^\d+$/.test(t))return o(n.target)?void 0:(i=n.target.value+t,i.length>4?n.preventDefault():void 0)},t.cvcInput=function(t){return n(t,"keypress",u),n(t,"keypress",nt),n(t,"paste",s),n(t,"change",s),n(t,"input",s)},t.expiryInput=function(t){return n(t,"keypress",u),n(t,"keypress",it),n(t,"keypress",w),n(t,"keypress",d),n(t,"keypress",k),n(t,"keydown",p),n(t,"change",l),n(t,"input",l)},t.cardNumberInput=function(t){return n(t,"keypress",u),n(t,"keypress",tt),n(t,"keypress",b),n(t,"keydown",y),n(t,"paste",h),n(t,"change",h),n(t,"input",h)},t.numericInput=function(t){return n(t,"keypress",u),n(t,"paste",u),n(t,"change",u),n(t,"input",u)},t.parseCardExpiry=function(n){var i,r,u,t;return n=n.replace(/\s/g,""),u=n.split("/",2),i=u[0],t=u[1],(t!=null?t.length:void 0)===2&&/^\d+$/.test(t)&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),t=r+t),i=parseInt(i,10),t=parseInt(t,10),{month:i,year:t}},t.validateCardNumber=function(n){var t,r;return(n=(n+"").replace(/\s+|-/g,""),!/^\d+$/.test(n))?!1:(t=e(n),!t)?!1:(r=n.length,i.call(t.length,r)>=0)&&(t.luhn===!1||g(n))},t.validateCardExpiry=function(n,t){var u,i,r;return(typeof n=="object"&&"month"in n&&(r=n,n=r.month,t=r.year),!(n&&t))?!1:(n=String(n).trim(),t=String(t).trim(),!/^\d+$/.test(n))?!1:/^\d+$/.test(t)?(1<=n&&n<=12)?(t.length===2&&(t=t<70?"20"+t:"19"+t),t.length!==4)?!1:(i=new Date(t,n),u=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>u):!1:!1},t.validateCardCVC=function(n,t){var r,u;return(n=String(n).trim(),!/^\d+$/.test(n))?!1:(r=v(t),r!=null?(u=n.length,i.call(r.cvcLength,u)>=0):n.length>=3&&n.length<=4)},t.parseCardType=function(n){var t;return n?((t=e(n))!=null?t.type:void 0)||null:null},t.formatCardNumber=function(n){var t,i,r,u;return(n=c(n),n=n.replace(/\D/g,""),t=e(n),!t)?n:(u=t.length[t.length.length-1],n=n.slice(0,u),t.format.global?(r=n.match(t.format))!=null?r.join(" "):void 0:(i=t.format.exec(n),i==null)?void 0:(i.shift(),i=i.filter(Boolean),i.join(" ")))},t.formatCardExpiry=function(n){var t,r,i,u;return(n=c(n),r=n.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/),!r)?"":(t=r[1]||"",i=r[2]||"",u=r[3]||"",u.length>0?i=" / ":i===" /"?(t=t.substring(0,1),i=""):t.length===2||i.length>0?i=" / ":t.length===1&&t!=="0"&&t!=="1"&&(t="0"+t,i=" / "),t+i+u)},t})},{}]},{},[1]);